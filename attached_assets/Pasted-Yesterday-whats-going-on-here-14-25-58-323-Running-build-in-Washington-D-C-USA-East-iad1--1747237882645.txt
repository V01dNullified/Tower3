Yesterday
whats going on here: [14:25:58.323] Running build in Washington, D.C., USA (East) ‚Äì iad1 [14:25:58.323] Build machine configuration: 2 cores, 8 GB [14:25:58.339] Cloning github.com/V01dNullified/Tower3 (Branch: main, Commit: 4191b57) [14:25:58.750] Cloning completed: 410.000ms [14:26:00.990] Restored build cache from previous deployment (46LP6oUUPXH29erYkc4npZn72KtF) [14:26:01.754] Running "vercel build" [14:26:02.163] Vercel CLI 41.7.3 [14:26:03.400] Running "install" command: `npm install`... [14:26:06.383] [14:26:06.384] added 1 package, and audited 612 packages in 3s [14:26:06.385] [14:26:06.388] 84 packages are looking for funding [14:26:06.388] run `npm fund` for details [14:26:06.422] [14:26:06.422] 11 moderate severity vulnerabilities [14:26:06.423] [14:26:06.423] To address issues that do not require attention, run: [14:26:06.423] npm audit fix [14:26:06.423] [14:26:06.424] To address all issues (including breaking changes), run: [14:26:06.424] npm audit fix --force [14:26:06.424] [14:26:06.425] Run `npm audit` for details. [14:26:06.592] üöÄ Starting Vercel build process... [14:26:06.592] üìÅ Creating output directory... [14:26:06.592] üìù Configuring Vercel-specific files... [14:26:06.595] üé® Building Tailwind CSS... [14:26:07.411] [14:26:07.412] Rebuilding... [14:26:08.403] [14:26:08.403] Done in 1035ms. [14:26:08.421] ‚úÖ Tailwind CSS built successfully [14:26:08.422] üî® Building frontend with Vite... [14:26:09.284] [14:26:09.284] up to date, audited 178 packages in 801ms [14:26:09.284] [14:26:09.285] 37 packages are looking for funding [14:26:09.285] run `npm fund` for details [14:26:09.296] [14:26:09.297] 2 moderate severity vulnerabilities [14:26:09.297] [14:26:09.297] To address all issues (including breaking changes), run: [14:26:09.297] npm audit fix --force [14:26:09.297] [14:26:09.297] Run `npm audit` for details. [14:26:09.421] [14:26:09.422] > zombie-tower-defense-client@1.0.0 build:vercel [14:26:09.422] > cross-env NODE_ENV=production tailwindcss --config ./tailwind.config.vercel.js -i ./src/index.css -o ./src/styles/main.css && vite --config ./vite.config.cjs build [14:26:09.422] [14:26:09.865] [14:26:09.866] Rebuilding... [14:26:10.789] [14:26:10.790] Done in 969ms. [14:26:11.053] ‚úò [ERROR] "vite-plugin-glsl" resolved to an ESM file. ESM file cannot be loaded by `require`. See https://vite.dev/guide/troubleshooting.html#this-package-is-esm-only for more details. [plugin externalize-deps] [14:26:11.054] [14:26:11.055] node_modules/esbuild/lib/main.js:1225:27: [14:26:11.055] 1225 ‚îÇ let result = await callback({ [14:26:11.055] ‚ïµ ^ [14:26:11.056] [14:26:11.056] at file:///vercel/path0/client/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:66911:23 [14:26:11.057] at requestCallbacks.on-resolve (/vercel/path0/client/node_modules/esbuild/lib/main.js:1225:28) [14:26:11.058] at handleRequest (/vercel/path0/client/node_modules/esbuild/lib/main.js:647:17) [14:26:11.058] at handleIncomingPacket (/vercel/path0/client/node_modules/esbuild/lib/main.js:672:7) [14:26:11.058] at Socket.readFromStdout (/vercel/path0/client/node_modules/esbuild/lib/main.js:600:7) [14:26:11.058] at Socket.emit (node:events:518:28) [14:26:11.058] at addChunk (node:internal/streams/readable:561:12) [14:26:11.058] at readableAddChunkPushByteMode (node:internal/streams/readable:512:3) [14:26:11.058] at Readable.push (node:internal/streams/readable:392:5) [14:26:11.058] at Pipe.onStreamRead (node:internal/stream_base_commons:189:23) [14:26:11.058] [14:26:11.058] This error came from the "onResolve" callback registered here: [14:26:11.058] [14:26:11.058] node_modules/esbuild/lib/main.js:1150:20: [14:26:11.062] 1150 ‚îÇ let promise = setup({ [14:26:11.062] ‚ïµ ^ [14:26:11.062] [14:26:11.062] at setup (file:///vercel/path0/client/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:66873:18) [14:26:11.062] at handlePlugins (/vercel/path0/client/node_modules/esbuild/lib/main.js:1150:21) [14:26:11.063] at buildOrContextImpl (/vercel/path0/client/node_modules/esbuild/lib/main.js:873:5) [14:26:11.063] at Object.buildOrContext (/vercel/path0/client/node_modules/esbuild/lib/main.js:699:5) [14:26:11.063] at /vercel/path0/client/node_modules/esbuild/lib/main.js:2023:15 [14:26:11.063] at new Promise (<anonymous>) [14:26:11.063] at Object.build (/vercel/path0/client/node_modules/esbuild/lib/main.js:2022:25) [14:26:11.063] at build (/vercel/path0/client/node_modules/esbuild/lib/main.js:1873:51) [14:26:11.063] at bundleConfigFile (file:///vercel/path0/client/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:66828:24) [14:26:11.063] [14:26:11.063] The plugin "externalize-deps" was triggered by this import [14:26:11.063] [14:26:11.063] vite.config.cjs:4:21: [14:26:11.063] 4 ‚îÇ const glsl = require("vite-plugin-glsl"); [14:26:11.063] ‚ïµ ~~~~~~~~~~~~~~~~~~ [14:26:11.063] [14:26:11.066] [31mfailed to load config from /vercel/path0/client/vite.config.cjs[39m [14:26:11.066] [31merror during build: [14:26:11.066] Error: Build failed with 1 error: [14:26:11.066] node_modules/esbuild/lib/main.js:1225:27: ERROR: [plugin: externalize-deps] "vite-plugin-glsl" resolved to an ESM file. ESM file cannot be loaded by `require`. See https://vite.dev/guide/troubleshooting.html#this-package-is-esm-only for more details. [14:26:11.066] at failureErrorWithLog (/vercel/path0/client/node_modules/esbuild/lib/main.js:1472:15) [14:26:11.066] at /vercel/path0/client/node_modules/esbuild/lib/main.js:945:25 [14:26:11.066] at runOnEndCallbacks (/vercel/path0/client/node_modules/esbuild/lib/main.js:1315:45) [14:26:11.066] at buildResponseToResult (/vercel/path0/client/node_modules/esbuild/lib/main.js:943:7) [14:26:11.066] at /vercel/path0/client/node_modules/esbuild/lib/main.js:970:16 [14:26:11.066] at responseCallbacks.<computed> (/vercel/path0/client/node_modules/esbuild/lib/main.js:622:9) [14:26:11.067] at handleIncomingPacket (/vercel/path0/client/node_modules/esbuild/lib/main.js:677:12) [14:26:11.067] at Socket.readFromStdout (/vercel/path0/client/node_modules/esbuild/lib/main.js:600:7) [14:26:11.067] at Socket.emit (node:events:518:28) [14:26:11.067] at addChunk (node:internal/streams/readable:561:12)[39m [14:26:11.081] ‚ùå Vite build failed: Error: Command failed: npm run build:vercel [14:26:11.081] at genericNodeError (node:internal/errors:983:15) [14:26:11.081] at wrappedFn (node:internal/errors:537:14) [14:26:11.081] at checkExecSyncError (node:child_process:882:11) [14:26:11.081] at execSync (node:child_process:954:15) [14:26:11.081] at Object.<anonymous> (/vercel/path0/vercel-build.cjs:64:3) [14:26:11.081] at Module._compile (node:internal/modules/cjs/loader:1730:14) [14:26:11.081] at Object..js (node:internal/modules/cjs/loader:1895:10) [14:26:11.081] at Module.load (node:internal/modules/cjs/loader:1465:32) [14:26:11.081] at Function._load (node:internal/modules/cjs/loader:1282:12) [14:26:11.081] at TracingChannel.traceSync (node:diagnostics_channel:322:14) { [14:26:11.081] status: 1, [14:26:11.081] signal: null, [14:26:11.082] output: [ null, null, null ], [14:26:11.082] pid: 120, [14:26:11.082] stdout: null, [14:26:11.082] stderr: null [14:26:11.082] } [14:26:11.087] Error: Command "node vercel-build.cjs" exited with 1 [14:26:11.425] [14:26:14.503] Exiting build container
This appears to be a build failure log from a Vercel deployment. The key issue is a module compatibility problem with vite-plugin-glsl. Here's what's happening:

The build started normally, cloning your repository and installing dependencies

The process encountered an error when trying to build with Vite because vite-plugin-glsl is an ES Module (ESM), but it's being imported using CommonJS require()

The specific error is:

"vite-plugin-glsl" resolved to an ESM file. ESM file cannot be loaded by `require`
To fix this, you'll need to either:

Update your vite.config.cjs to use ESM syntax:

javascript
import glsl from 'vite-plugin-glsl';
And rename the file to vite.config.js or vite.config.mjs

OR

Use an older version of vite-plugin-glsl that supports CommonJS, if available

The rest of your build process (npm install, Tailwind CSS build) was working fine until it hit this module compatibility issue.

Today
what is this: [10:41:23.206] Running build in Washington, D.C., USA (East) ‚Äì iad1 [10:41:23.206] Build machine configuration: 2 cores, 8 GB [10:41:23.238] Cloning github.com/V01dNullified/Tower3 (Branch: main, Commit: 1cd5635) [10:41:23.868] Cloning completed: 630.000ms [10:41:26.178] Restored build cache from previous deployment (fpFaaW6kX6zwU4oRMn3Bqsj2zr3L) [10:41:26.970] Running "vercel build" [10:41:27.529] Vercel CLI 41.7.3 [10:41:28.934] Running "install" command: `npm install`... [10:41:31.685] [10:41:31.686] up to date, audited 612 packages in 3s [10:41:31.686] [10:41:31.686] 84 packages are looking for funding [10:41:31.687] run `npm fund` for details [10:41:31.724] [10:41:31.725] 11 moderate severity vulnerabilities [10:41:31.725] [10:41:31.725] To address issues that do not require attention, run: [10:41:31.725] npm audit fix [10:41:31.726] [10:41:31.726] To address all issues (including breaking changes), run: [10:41:31.726] npm audit fix --force [10:41:31.728] [10:41:31.728] Run `npm audit` for details. [10:41:31.897] üöÄ Starting direct Vercel build process... [10:41:31.898] üìÅ Creating output directory... [10:41:31.898] üî® Directly copying built files... [10:41:31.898] üì¶ Copying client public assets... [10:41:31.899] ‚ùå Build process error: Error: EISDIR: illegal operation on a directory, copyfile '/vercel/path0/client/public/fonts' -> '/vercel/path0/dist/public/fonts' [10:41:31.899] at Object.copyFileSync (node:fs:3086:11) [10:41:31.900] at /vercel/path0/vercel-direct-build.cjs:27:10 [10:41:31.900] at Array.forEach (<anonymous>) [10:41:31.900] at Object.<anonymous> (/vercel/path0/vercel-direct-build.cjs:24:11) [10:41:31.900] at Module._compile (node:internal/modules/cjs/loader:1730:14) [10:41:31.900] at Object..js (node:internal/modules/cjs/loader:1895:10) [10:41:31.901] at Module.load (node:internal/modules/cjs/loader:1465:32) [10:41:31.901] at Function._load (node:internal/modules/cjs/loader:1282:12) [10:41:31.901] at TracingChannel.traceSync (node:diagnostics_channel:322:14) [10:41:31.901] at wrapModuleLoad (node:internal/modules/cjs/loader:235:24) { [10:41:31.902] errno: -21, [10:41:31.902] code: 'EISDIR', [10:41:31.902] syscall: 'copyfile', [10:41:31.902] path: '/vercel/path0/client/public/fonts', [10:41:31.902] dest: '/vercel/path0/dist/public/fonts' [10:41:31.902] } [10:41:31.926] Installing dependencies... [10:41:32.885] [10:41:32.886] up to date in 897ms [10:41:32.886] [10:41:32.886] 84 packages are looking for funding [10:41:32.887] run `npm fund` for details [10:41:33.268] Build Completed in /vercel/output [4s] [10:41:33.302] Deploying outputs... [10:41:37.509] [10:41:37.803] Deployment completed [10:42:46.905] Uploading build cache [140.82 MB]... [10:42:49.351] Build cache uploaded: 2.451s [10:42:51.613] Exiting build container
This is another Vercel build log, but this time the error is different. The build failed because of a file system operation error when trying to copy the fonts directory. Here's the breakdown:

The build started normally in a Vercel datacenter in Washington DC (iad1)

It cloned your repository and restored the build cache

NPM dependencies were installed successfully

The build failed with this specific error: